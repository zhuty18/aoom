---
import BasicPage from "../layouts/BasicPage.astro"
import { SITE_TITLE, SITE_DESCRIPTION, SITE_AUTHOR } from "../consts"
import { getCollection } from "astro:content"
import PostList from "../components/PostList.astro"

const posts = await getCollection("docs")
const displayPosts = posts.filter((post) => post.data.post)
---

<BasicPage title=`${SITE_TITLE} | ${SITE_AUTHOR}`>
  <slot name="title" slot="title">
    {SITE_TITLE}
  </slot>
  <slot name="description" slot="description">
    {SITE_DESCRIPTION}
  </slot>
  <PostList posts={displayPosts} />
</BasicPage>
